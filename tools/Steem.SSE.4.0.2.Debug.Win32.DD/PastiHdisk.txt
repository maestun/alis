Pasti.Dll	beta release		pasti.fxatari.com

Copyright (c) 2004,2006 by Jorge Cwik


EXPERIMENTAL HARD DISK EMULATION

Pasti.Dll implements now hard disk emulation at the DMA port hardware 
level. Hard disks are emulated not much differently than floppies. The 
entire hard disk image is kept in a standard PC file.

Hard disk emulation is configured on a new pane available now in the Pasti 
Configuration Dialog.

Because emulation is at the hardware level, there are no auto-magically 
hard disk drivers available. A standard ST hard disk driver must be used 
(none is provided with this package). This also has a significant impact in 
performance when compared with emulation at the GEMDOS level.

Auto-booting is performed as in real hardware. A driver and boot code must 
be written to the hard disk to enable booting from the hard disk. Most 
drivers include an install utility to perform this automatically.

The following drivers should work: AHDI 5, HDDRIVER and ICD Pro. Earlier 
versions of AHDI can probably be used, but formatting and partitioning 
might need to be done with AHDI 5 or third party drivers.

Pasti currently emulates a generic SCSI host adapter (with partial ICD 
compatibility) and a SCSI-embedded drive. Emulation is currently far from 
being perfect, complete or highly accurate.

Compatibility with concurrent usage of Steem hard disks was barely tested. 
Steem emulates hard disks at the GEMDOS level, so in theory it should not 
interfere with Pasti emulation. On the other hand, Steem is unaware of 
Pasti hard disks and vice versa. Drive letters on Steem should be assigned 
carefully to avoid possible conflicts. Finally, booting should not be 
enabled on both sides.

Currently the disk image is a simple one-to-one representation of the hard 
disk sectors. The first byte of the file represents the first byte of 
sector zero (root partition sector) of the hard disk. This is subject to 
change.

As in real hardware, you must exercise safe shutdown to avoid corruption in 
the hard disk image. If you are used to Steem hard disks you probably never 
cared about this. But again, Pasti emulation is at a much lower level and 
much more similar to real hardware. Disabling the hard disk, changing the 
file image, resetting or exiting emulation while files are being accessed 
on the hard disk might provoke corruption (again, as in real hardware). In 
no case the PC hard disk can be corrupted. Only the virtual files inside 
the disk image can.

The hard disk can be write-protected in the configuration dialog. But be 
aware that software might not expect a write-protected hard disk and might 
work incorrectly.

Be careful when saving and restoring memory snapshots. The name of the disk 
image file is not included in the snapshot. This means that restoring a 
memory snapshot doesn't restore the hard disk file image that was used at 
the time the snapshot was saved. You must do this manually.


LEGAL

Pasti.Dll is copyright (c) 2004,2006 by Jorge Cwik.

This software is provided as is. No warranty of any kind is given or 
implied.


Pasti.Dll 	beta release		pasti.fxatari.com

